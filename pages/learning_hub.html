<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NeuroEthicsEduKit 學習中心 - 互動式神經倫理學習與意識提升">
    <title>學習中心 - NeuroEthicsEduKit</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/navigation.css">
    <link rel="stylesheet" href="../css/cards.css">
    <link rel="stylesheet" href="../css/role_play.css">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <div class="logo-container">
                <h1><a href="../index.html">NeuroEthicsEduKit</a></h1>
                <p class="tagline">神經倫理教育工具包</p>
            </div>
            <nav class="main-navigation" id="mainNav">
                <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation" aria-expanded="false">
                    <span class="sr-only">開啟/關閉導航</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="../index.html">首頁</a></li>
                    <li><a href="learning_hub.html" class="active">學習中心</a></li>
                    <li><a href="educator_toolkit.html">教育者工具包</a></li>
                    <li><a href="privacy_simulation.html">隱私模擬</a></li>
                    <li><a href="edtech_sandbox.html">EdTech 沙盒</a></li>
                    <li><a href="https://github.com/YOUR_USERNAME/NeuroEthicsEduKit" target="_blank" rel="noopener noreferrer">GitHub</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="main-content" class="main-content">
        <div class="container">
            <section class="page-title-section">
                <h2>學習中心：互動式神經倫理學習與意識提升</h2>
                <p>探索神經倫理的核心原則、分析真實案例、參與互動模擬並破解常見的神經迷思。</p>
            </section>

            <section id="principles-section" class="content-section">
                <h3>神經倫理原則</h3>
                <div id="principles-container" class="dynamic-content-container">
                    <!-- 神經倫理原則將由 JavaScript 載入 -->
                    <p>正在載入神經倫理原則...</p>
                </div>
            </section>

            <section id="case-studies-section" class="content-section">
                <h3>動態案例研究庫</h3>
                <div id="case-studies-container" class="dynamic-content-container modules-grid">
                    <!-- 案例研究將由 JavaScript 載入 -->
                    <p>正在載入案例研究...</p>
                </div>
            </section>

            <section id="role-play-section" class="content-section">
                <h3>互動式角色扮演與倫理決策</h3>
                 <div id="role-play-container" class="dynamic-content-container">
                    <h4>體驗倫理的十字路口：選擇您的角色，探索神經倫理的複雜決策</h4>
                    <p>在教育的真實世界中，神經倫理的挑戰往往不是非黑即白的選擇題，而是需要在多重價值觀和潛在影響之間進行權衡的複雜情境。通過這些互動式角色扮演，您將能夠從不同視角體驗這些決策的重量。</p>
                    
                    <div class="role-play-scenarios-container">
                        <!-- 場景選擇區 -->
                        <div class="scenario-selector">
                            <div class="scenario-card active" data-scenario="crossroads">
                                <h5>教育的十字路口</h5>
                                <p>「設計兒童」vs「養育兒童」的政策選擇</p>
                                <span class="scenario-badge">政策研討會</span>
                            </div>
                            <div class="scenario-card" data-scenario="guardians">
                                <h5>未來教室的「神經守護者」</h5>
                                <p>制定學生神經數據使用倫理守則</p>
                                <span class="scenario-badge">倫理委員會</span>
                            </div>
                        </div>

                        <!-- 角色扮演區域 -->
                        <div id="role-play-simulation-area" class="role-play-simulation">
                            <!-- ADDED: Hidden template for role details -->
                            <div id="role-details-view" style="display: none;">
                                <h5 id="role-name-display" class="role-title"></h5>
                                <p id="role-description-display" class="role-meta"></p>
                                <div class="role-content-panel">
                                    <h6>角色觀點與任務：</h6>
                                    <div id="role-perspective-display" class="role-text-block"></div>
                                </div>
                                <div class="role-content-panel">
                                    <h6>互動選項：</h6>
                                    <div id="role-interaction-options" class="interaction-options-grid">
                                        <!-- Interaction buttons will be dynamically added here -->
                                    </div>
                                </div>
                                <div class="role-content-panel" id="interaction-result-display" style="display: none;">
                                    <h6 class="result-title">互動結果：</h6>
                                    <div class="result-text-block"></div>
                                </div>
                                <button id="back-to-roles-button" class="btn btn-secondary btn-sm role-action-button">返回角色選擇</button>
                            </div>

                            <!-- 場景1: 教育的十字路口 -->
                            <div id="crossroads-scenario" class="scenario-content active">
                                <div class="scenario-header">
                                    <h4>教育的十字路口——「設計兒童」vs「養育兒童」的政策選擇</h4>
                                    <p class="scenario-description">面對學生心理健康問題增多、學業競爭壓力加劇的現狀，市教育局召開研討會，討論未來的教育發展方向。兩種主要的教育哲學產生碰撞：一種觀點（傾向「設計兒童」）認為應更積極地引入神經科學工具和生物醫學手段來「優化」學生的認知和行為；另一種觀點（傾向「養育兒童」）則主張回歸教育本質，強調通過改善師生關係、提供人文關懷來「培育」學生的全面發展。</p>
                                </div>

                                <!-- 角色選擇區 -->
                                <div class="role-selection-container">
                                    <h5>選擇您要扮演的角色：</h5>
                                    <div class="role-cards-grid">
                                        <div class="role-card" data-role="director">
                                            <div class="role-icon">👨‍💼</div>
                                            <h6>教育局局長</h6>
                                            <p>尋求能快速提升教育質量、應對社會輿論的政策方案</p>
                                        </div>
                                        <div class="role-card" data-role="scientist">
                                            <div class="role-icon">🧠</div>
                                            <h6>神經科學家</h6>
                                            <p>介紹神經技術在提升學習效率方面的潛力</p>
                                        </div>
                                        <div class="role-card" data-role="principal">
                                            <div class="role-icon">👩‍🏫</div>
                                            <h6>資深校長</h6>
                                            <p>強調教育的整體性和複雜性，主張「養育」模式</p>
                                        </div>
                                        <div class="role-card" data-role="parent">
                                            <div class="role-icon">👨‍👩‍👧‍👦</div>
                                            <h6>家長聯盟代表</h6>
                                            <p>對新技術抱有期待，但也擔憂孩子的自主性受損</p>
                                        </div>
                                        <div class="role-card" data-role="ethicist">
                                            <div class="role-icon">⚖️</div>
                                            <h6>倫理學家</h6>
                                            <p>分析兩種模式背後的哲學假設和倫理風險</p>
                                        </div>
                                        <div class="role-card" data-role="student">
                                            <div class="role-icon">👨‍🎓</div>
                                            <h6>學生代表</h6>
                                            <p>表達對當前教育壓力的感受和對未來的期望</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- 角色扮演互動區 -->
                                <div id="crossroads-interaction" class="role-interaction-container">
                                    <div class="role-perspective-container">
                                        <p>請選擇一個角色開始模擬。</p>
                                    </div>
                                </div>
                            </div>

                            <!-- 場景2: 未來教室的「神經守護者」 -->
                            <div id="guardians-scenario" class="scenario-content">
                                <div class="scenario-header">
                                    <h4>未來教室的「神經守護者」——制定學生神經數據使用倫理守則</h4>
                                    <p class="scenario-description">學校計劃引入包括情緒識別系統、注意力追蹤頭戴設備、以及基於學習行為分析的AI輔導系統等一系列涉及收集和使用學生（神經）數據的技術。為確保技術的負責任使用，倫理委員會需要制定一套《學生神經數據使用倫理守則》。</p>
                                </div>

                                <!-- 角色選擇區 -->
                                <div class="role-selection-container">
                                    <h5>選擇您要扮演的角色：</h5>
                                    <div class="role-cards-grid">
                                        <div class="role-card" data-role="cto">
                                            <div class="role-icon">👩‍💻</div>
                                            <h6>學校技術長</h6>
                                            <p>負責推動技術創新，希望守則能促進技術應用</p>
                                        </div>
                                        <div class="role-card" data-role="lawyer">
                                            <div class="role-icon">👨‍⚖️</div>
                                            <h6>數據隱私律師</h6>
                                            <p>強調法律合規、數據最小化和知情同意的嚴格性</p>
                                        </div>
                                        <div class="role-card" data-role="teacher">
                                            <div class="role-icon">👩‍🏫</div>
                                            <h6>教師代表</h6>
                                            <p>希望能利用數據改善教學，但擔心數據誤讀的風險</p>
                                        </div>
                                        <div class="role-card" data-role="student-rep">
                                            <div class="role-icon">👨‍🎓</div>
                                            <h6>學生會代表</h6>
                                            <p>關注同學的隱私權和對技術監控的潛在反感</p>
                                        </div>
                                        <div class="role-card" data-role="parent-rep">
                                            <div class="role-icon">👨‍👩‍👧</div>
                                            <h6>家長教師協會代表</h6>
                                            <p>希望安全有效地使用技術，但對數據流向表示關切</p>
                                        </div>
                                        <div class="role-card" data-role="neuroethicist">
                                            <div class="role-icon">🧠</div>
                                            <h6>神經倫理學研究員</h6>
                                            <p>提供關於神經數據特殊性和「神經權利」的專業意見</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- 角色扮演互動區 -->
                                <div id="guardians-interaction" class="role-interaction-container">
                                    <div class="role-perspective-container">
                                        <p>請選擇一個角色開始模擬。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="role-play-info-container">
                        <h5>參與角色扮演的益處：</h5>
                        <ul>
                            <li><strong>多元視角體驗：</strong> 通過扮演不同角色，您將能夠理解各方在神經倫理議題上的立場、關切和價值觀。</li>
                            <li><strong>倫理決策練習：</strong> 在複雜情境中權衡不同的倫理原則（如自主性、隱私、公平、不傷害等），發展結構化的倫理推理能力。</li>
                            <li><strong>深度理解：</strong> 探索神經技術在教育中應用的多層次影響，包括短期與長期、個人與社會層面的考量。</li>
                            <li><strong>反思與成長：</strong> 每個角色扮演結束後，您將有機會反思自己的決策過程，加深對神經倫理議題的理解。</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="neuromyths-section" class="content-section">
                <h3>神經迷思偵測與破解器</h3>
                <div id="neuromyths-container" class="dynamic-content-container modules-grid">
                    <!-- 神經迷思將由 JavaScript 載入 -->
                    <p>正在載入神經迷思內容...</p>
                </div>
            </section>

            <section id="resource-library-section" class="content-section">
                <h3>資源庫</h3>
                <p>探索更多關於神經倫理、教育科技和腦科學的深入閱讀材料、工具和相關組織。</p>
                <div id="resource-library-container" class="dynamic-content-container">
                    <!-- 資源庫內容將由 JavaScript 載入 -->
                    <p>正在載入資源庫內容...</p>
                </div>
            </section>

            <section id="glossary-section" class="content-section">
                <h3>詞彙表</h3>
                <p>了解本工具包中常用的關鍵術語和概念定義。</p>
                <div id="glossary-container" class="dynamic-content-container">
                    <!-- 詞彙表內容將由 JavaScript 載入 -->
                    <p>正在載入詞彙表內容...</p>
                </div>
            </section>

        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="../CODE_OF_CONDUCT.md">行為準則</a> |
                    <a href="../LICENSE">授權條款</a> |
                    <a href="https://github.com/YOUR_USERNAME/NeuroEthicsEduKit/issues" target="_blank" rel="noopener noreferrer">問題回報</a>
                </div>
                <p>© <span id="currentYear"></span> NeuroEthicsEduKit 專案貢獻者。</p>
            </div>
        </div>
    </footer>

    <script src="../js/main.js"></script>
    <script src="../js/data_modules/learning_hub_data.js"></script>
    <script src="../js/learning_hub_page.js"></script>
    <script src="../js/interactive_scenarios.js"></script>
    <script src="../js/role_play.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const scenarioSelectorCards = document.querySelectorAll('.scenario-selector .scenario-card');
            const scenarioContents = document.querySelectorAll('.role-play-simulation .scenario-content');
            const rolePlaySimulationArea = document.getElementById('role-play-simulation-area');

            // 初始化：確保只有第一個場景的內容是可見的
            scenarioContents.forEach((content, index) => {
                if (index === 0) {
                    content.classList.add('active');
                } else {
                    content.classList.remove('active');
                }
            });
            // 同步場景選擇器的 active 狀態
            scenarioSelectorCards.forEach((selectorCard, index) => {
                 if (index === 0) {
                    selectorCard.classList.add('active');
                } else {
                    selectorCard.classList.remove('active');
                }
            });

            // 為場景選擇卡片添加事件監聽器
            scenarioSelectorCards.forEach(selectorCard => {
                selectorCard.addEventListener('click', function() {
                    // 更新場景選擇器的 active 狀態
                    scenarioSelectorCards.forEach(sc => sc.classList.remove('active'));
                    this.classList.add('active');

                    const targetScenarioId = this.dataset.scenario;

                    // 顯示對應的場景內容，隱藏其他
                    scenarioContents.forEach(content => {
                        if (content.id === `${targetScenarioId}-scenario`) {
                            content.classList.add('active');
                        } else {
                            content.classList.remove('active');
                        }
                    });

                    // 清理可能存在的舊的角色詳情和結果
                    document.querySelectorAll('.role-interaction-container').forEach(ric => {
                        ric.innerHTML = '<div class="role-perspective-container"><p>請選擇一個角色開始模擬。</p></div>';
                    });
                    document.querySelectorAll('.role-card').forEach(rc => rc.classList.remove('active', 'selected'));

                    // 為當前激活場景中的角色卡片綁定事件
                    const activeScenarioContent = document.getElementById(`${targetScenarioId}-scenario`);
                    if (activeScenarioContent) {
                        const roleCardsInActiveScenario = activeScenarioContent.querySelectorAll('.role-card');
                        roleCardsInActiveScenario.forEach(roleCard => {
                            // 移除舊的事件監聽器 (如果有的話，以防重複綁定 - 簡單的 cloneNode 技巧)
                            const newRoleCard = roleCard.cloneNode(true);
                            roleCard.parentNode.replaceChild(newRoleCard, roleCard);

                            newRoleCard.addEventListener('click', function(event) {
                                if (typeof createRippleEffect === 'function') {
                                    createRippleEffect(event, this);
                                }
                                if (typeof selectRole === 'function') {
                                    // 從父級 .scenario-content 獲取 scenarioId
                                    const currentScenarioElement = this.closest('.scenario-content');
                                    let scenarioIdForRole = currentScenarioElement ? currentScenarioElement.id.replace('-scenario', '') : null;
                                    
                                    // 如果無法從 .scenario-content 直接獲取，則從 .scenario-selector 的 active 卡片獲取
                                    if (!scenarioIdForRole) {
                                        const activeSelectorCard = document.querySelector('.scenario-selector .scenario-card.active');
                                        if (activeSelectorCard) {
                                            scenarioIdForRole = activeSelectorCard.dataset.scenario;
                                        }
                                    }

                                    const roleId = this.dataset.role;
                                    console.log(`[learning_hub.html] Role card clicked. Scenario: ${scenarioIdForRole}, Role: ${roleId}`);
                                    selectRole(scenarioIdForRole, roleId, this);
                                } else {
                                    console.error('selectRole function is not defined. Make sure js/role_play.js is loaded.');
                                }
                            });
                        });
                    }
                });
            });

            // 初始化時，觸發一次第一個場景選擇器的點擊，以確保其角色卡片事件被綁定
            if (scenarioSelectorCards.length > 0) {
                scenarioSelectorCards[0].click();
            }
        });
    </script>
</body>
</html> 